<!DOCTYPE html>
<html>
<head>
<title>res.render() Submit Form Using AJAX PHP and javascript</title>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>


</head>
<style>
  body{
    text-align: center;
  }
</style>
<body>
<div id="mainform">
<div class="innerdiv">
<h2>Code</h2>
<!-- {/* Required Div Starts Here */} -->
<form id="form" name="form">
<h3>Fill here</h3>
<div>
<!-- <label>Code :</label> -->
<!-- <input  style="font-size: 18pt; height: 200px; width:500px; " id="code" type="text">  -->
<textarea id="code" rows="30"    cols="50" name="blog">
        
</textarea>
<br>

<input id="submit" onclick="myFunction()" type="button" value="Submit">
</div>
</form>
<div id="clear"></div>
</div>
<div id="clear"></div>
</div>
 <!-- {/* <script src="../form.js"></script>  */} -->
<script>
  function myFunction() {
    var code = document.getElementById("code").value;
    // var email = document.getElementById("email").value;
    // var password = document.getElementById("password").value;
    // var contact = document.getElementById("contact").value;
    // Returns successful data submission message when the entered information is stored in database.
    var custom = {
   data :code,
  //  filename: "D:\\code\\coderun\\files\\cc6f783c-d254-45d8-8660-04322e590611.js"
};
    if (code == '' ) {
    alert("Please fill this");
    } else { 
    // AJAX code to submit form.
    $.ajax({
    traditional: true,
    type: "POST",
    url: "/api/code",
    dataType: "json",
    data: JSON.stringify(custom),
    contentType: "application/json",
    cache: false,
    success: function(html) {
    alert(html);
    },
    error: function (jqXHR, exception) {console.log(jqXHR)}
    });
  }
    return false;
    }
    
</script>
</body>
</html>